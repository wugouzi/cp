//
// Created by wu on 2023/10/25.
//

#include "leetcode.h"

int tupleSameProduct(vector<int>& nums) {
  int n = nums.size();
  sort(nums.begin(), nums.end());
  int ans = 0;
  nums.erase(unique(nums.begin(), nums.end()), nums.end());
  for (int a = 0; a < n - 3; a++) {
    for (int d = n - 1; d >= a + 3; d--) {
      for (int b = a + 1; b <= d - 2; b++) {
        if (nums[a] * nums[d] % nums[b]) continue;
        auto iter = lower_bound(nums.begin() + b + 1,
                                nums.begin() + d, nums[a] * nums[d] / nums[b]);
        if (*iter * nums[b] == nums[a] * nums[d]) ans++;
      }
    }
  }
  return ans * 8;
}

int main(void) {
  //vector<int> nums{2,3,4,6};
  vector<int> nums{1156,992,5313,3240,4560,5520,258,520,1932,585,2516,323,9120,286,5166,6080,868,4500,5586,5445,8740,4902,4234,1250,208,8280,594,801,2278,675,1598,2064,1692,608,244,6083,1738,3172,2628,6175,6390,7298,7128,2590,356,148,7425,4661,3784,3204,2574,280,261,2030,1314,1638,3450,2520,885,5148,4896,2356,3619,55,6499,3705,272,207,5452,6278,2158,3479,111,611,2952,5301,7544,2632,2482,442,6970,750,3654,3330,3066,3564,7905,1485,4277,670,3604,768,3285,1763,7722,4307,8096,3026,6510,238,2225,1273,7482,1290,5247,7742,3034,4130,2774,688,3157,1216,3024,133,832,4698,3752,11,40,4216,1720,7315,4389,6887,104,2075,102,1222,2814,8300,297,3861,732,1562,8360,1470,6816,5120,4655,3337,3384,85,3968,81,2360,19,1089,5917,7968,6048,4819,2546,4209,5822,3740,1430,3286,6435,6111,7360,180,4260,900,2303,122,7290,2871,5546,4730,1927,2816,368,6192,90,1316,2538,1248,145,7371,5025,3550,177,9506,2479,7600,4891,2001,1005,451,595,3840,4980,632,3016,86,5106,2448,7081,1272,4361,664,2706,630,3293,4047,6960,2016,7161,5110,473,5538,209,2576,2496,1335,1050,779,3894,3060,5325,4941,848,7134,3132,276,2560,7708,291,708,1072,6688,2232,962,4757,4484,1862,4288,4582,5658,1634,663,4785,581,793,210,603,1560,940,5292,146,8439,390,2205,6640,96,1062,6100,6789,371,4116,8924,2622,3610,1940,1343,1207,9212,2720,612,3382,56,2108,150,2585,4320,2077,605,374,3567,4136,4680,2910,5124,1955,2263,260,3663,6734,130,1328,144,1944,305,2530,2349,2368,3000,2162,1649,2573,1615,4180,1533,2072,338,61,4182,2124,1353,4092,2624,2610,7392,246,845,6460,4005,3528,1679,205,3795,5986,3075,7476,63,2387,954,2211,5248,6808,3690,4042,3927,855,6975,5605,1645,1917,2925,2604,1334,3549,3196,1180,1420,3905,2220,1139,5529,948,365,6699,2379,1015,344,5229,5490,58,8170,7238,4628,52,2668,7387,70,850,5475,5180,325,2584,2204,3485,3290,513,4000,2967,3792,6800,3960,2562,1539,7326,4380,7000,1260,33,8188,7395,7347,1479,3800,781,7820,4740,511,6972,2542,5952,2314,5700,1274,837,162,1221,176,1736,816,6612,4977,8730,3354,7031,2046,4958,1118,5840,819,5175,3698,6532,6650,6700,510,2812,1288,950,2450,1020,2015,2291,3717,2100,5112,795,3904,2240,1880,6497,2492,7100,3675,43,938,186,729,682,100,6097,212,5694,3320,3266,8075,1455,2745,4268,5088,2300,1596,578,168,7,4473,118,45,2145,4290,5340,6768,4888,4998,3219,3738,528,5504,2989,8217,7912,7372,306,16,5928,1925,4644,551,3901,7743,609,952,1891,5016,8736,1000,990,292,237,7410,3542,369,4331,4898,7440,1147,518,5092,4512,3094,828,2035,4899,860,79,3363,705,5310,5655,5360,1245,5251,2370,5890,517,3393,128,2279,7400,1058,1995,4514,4187,2607,6525,495,4956,160,3956,3630,2464,3680,553,1742,42,583,7623,1281,1602,3225,2583,6039,360,156,267,184,2160,2244,2788,1504,250,2613,1599,3318,26,4816,2508,5760,2714,5832,4620,4020,5183,2800,3360,5214,187,5415,833,3397,221,782,6216,3922,4212,1581,142,8645,897,5002,2392,984,2304,522,6440,15,1593,558,3400,6142,747,396,6300,6992,4365,318,119,536,3813,836,2268,1215,1922,7200,6256,273,4988,759,944,2176,972,4672,3417,6177,6298,552,249,3185,141,3239,2142,5852,498,825,5740,7826,114,74,8330,6270,3588,6600,4466,1890,496,6400,3445,5800,1159,9108,949,3526,3950,3108,8064,219,2250,3248,4,748,7098,1209,7680,259,8514,4453,1734,3015,806,92,2852,435,6912,1612,1659,375,4257,171,2376,5395,5916,3540,2904,2125,23,6880,7802,740,3807,125,5307,3212,790,2233,6370,2173,5060,1408,4424,3589,7462,4950,6633,1836,4794,243,4160,3978,4875,1305,4743,1204,5236,3658,4592,3038,112,735,2059,6305,598,3575,6364,2088,5904,2150,4402,4410,231,4059,322,2310,1456,1196,6745,4505,65,2652,1363,4602,2436,6144,2975,377,9500,6396,301,6230,4662,5304,902,1044,5963,5712,5103,713,756,4779,2193,580,7304,6336,8019,645,3536,2214,72,62,4575,2312,5073,76,1404,1131,504,97,2701,6205,7084,1085,2133,1190,712,4030,3432,1276,1525,986,534,2886,960,5644,6225,7448,4233,3213,8316,6231,6208,5704,7144,2418,2665,2394,8556,5751,1728,2992,4214,330,170,364,2457,2343,1440,2673,1935,994,7252,3250,6320,147,6003,4015,3422,217,7998,3420,726,165,3375,4930,5720,1066,3366,4664,533,2296,6450,335,5782,1443,380,2993,3174,195,1067,242,693,1053,1472,1843,4503,3854,8,575,4080,418,2223,424,4823,3105,2006,4186,406,803,4860,9405,5336,2156,1406,91,3876,4485,3649,7840,588,880,1628,140,4270,2860,5135,6150,1426,7488,3339,1344,7040,1342,7872,3534,5429,3441,5824,1449,88,304,3136,6762,3306,7719,7469,388,2120,3055,1537,4340,308,14,2639,3480,7221,5456,8366,4386,2670,9118,2419,3150,760,285,666,5152,1856,7505,6438,6075,3657,6461,1247,1696,5335,1770,1488,282,7030,2491,4544,1643,3750,2320,8134,2000,3332,2067,1081,4189,8118,1705,874,3735,3551,3822,1947,680,6408,1715,2623,2040,6840,60,975,4144,5976,4940,1078,190,4352,988,5688,1140,3895,95,35,4758,456,776,3741,4400,378,10,299,410,1672,4464,2325,213,5451,1350,5376,925,94,1206,6392,4704,5396,8742,4060,5192,1254,105,5500};
  cout << tupleSameProduct(nums);
}